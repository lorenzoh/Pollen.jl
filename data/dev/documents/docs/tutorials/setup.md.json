{"attributes":{"backlinks":[{"tag":"document","title":"Pollen.jl","docid":"documents/README.md"}],"path":"/home/runner/work/Pollen.jl/Pollen.jl/docs/tutorials/setup.md","title":"Creating, writing and publishing package documentation"},"tag":"document","children":[{"attributes":{},"tag":"md","children":[{"attributes":{},"tag":"h1","children":["Creating, writing and publishing package documentation"],"type":"node"},{"attributes":{},"tag":"p","children":["This tutorial will teach you how to create a new Julia package with Pollen.jl documentation to get a site just like the one you are probably reading this on. After reading this, you will have learned how to"],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["create a Julia package and set up Pollen as its documentation system,"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["use Pollenâ€™s development server with live reload to preview changes as you make them; and"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["how to publish the package documentation to GitHub Pages"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["You can see the resulting project and its documentation at ",{"attributes":{"href":"https://github.com/lorenzoh/PollenExample.jl","title":""},"tag":"a","children":["lorenzoh/PollenExample",".","jl"],"type":"node"},"."],"type":"node"},{"attributes":{"class":"warn"},"tag":"admonition","children":[{"attributes":{},"tag":"admonitiontitle","children":["Installation"],"type":"node"},{"attributes":{},"tag":"admonitionbody","children":[{"attributes":{},"tag":"p","children":["Before starting the tutorial, make sure youâ€™ve followed the ",{"attributes":{"reftype":"document","href":"../howto/install.md","title":"","document_id":"documents/docs/howto/install.md"},"tag":"reference","children":["installation instructions for Pollen",".","jl"],"type":"node"},"."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"h2","children":["Creating a package with Pollen",".","jl documentation"],"type":"node"},{"attributes":{"class":"note"},"tag":"admonition","children":[{"attributes":{},"tag":"admonitiontitle","children":["Documentation for an existing package"],"type":"node"},{"attributes":{},"tag":"admonitionbody","children":[{"attributes":{},"tag":"p","children":["This section describes how to add Pollen documentation when creating a new package. It is also possible to add Pollen.jl documentation to an existing package ",{"attributes":{"reftype":"document","href":"/documents/docs/howto/setup.md","title":"","document_id":"documents/docs/howto/setup.md"},"tag":"reference","children":["as described here"],"type":"node"},"."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["The most commonly used tool for creating new Julia packages is ",{"attributes":{"href":"https://github.com/invenia/PkgTemplates.jl","title":""},"tag":"a","children":["PkgTemplates",".","jl"],"type":"node"},". Pollen.jl provides a plugin for PkgTemplates.jl to spare you any arduous setup tasks."],"type":"node"},{"attributes":{},"tag":"p","children":["To create a template, make sure you have ",{"attributes":{},"tag":"code","children":["PkgTemplates"],"type":"node"}," installed and create a template with the Pollen plugin:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"USING","children":[{"attributes":{},"tag":"USING","children":["using"],"type":"node"},{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["PkgTemplates"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"references/Pollen"},"tag":"reference","children":["Pollen"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["template"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Template"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["plugins"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"VECT","children":[{"attributes":{},"tag":"LSQUARE","children":["["],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"DOT","children":[{"attributes":{"reftype":"symbol","document_id":"references/Pollen"},"tag":"reference","children":["Pollen"],"type":"node"},{"attributes":{},"tag":"DOT","children":["."],"type":"node"},{"attributes":{},"tag":"QUOTE","children":[{"attributes":{"reftype":"symbol","document_id":"references/Pollen.PollenPlugin"},"tag":"reference","children":["PollenPlugin"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Tests"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["project"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"TRUE","children":["true"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Git"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["ssh"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"TRUE","children":["true"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["GitHubActions"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Develop"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n        "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["ProjectFile"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"RSQUARE","children":["]"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["user"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["lorenzoh"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["julia"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"MACROCALL","children":[{"attributes":{},"tag":"STRING_MACRO_NAME","children":["v"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["1.6"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{"class":"note"},"tag":"admonition","children":[{"attributes":{},"tag":"admonitiontitle","children":["Following along"],"type":"node"},{"attributes":{},"tag":"admonitionbody","children":[{"attributes":{},"tag":"p","children":["If you want to follow along and host the tutorial project on GitHub pages, make sure to replace ",{"attributes":{},"tag":"code","children":["\"lorenzoh\""],"type":"node"}," with your GitHub user name."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Next, weâ€™ll instantiate the template by calling it with the name of the package we want to create:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["template"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["PollenExample"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Once this is done, youâ€™ll have a brand new package ready to use Pollen.jlâ€™s documentation system."],"type":"node"},{"attributes":{},"tag":"h2","children":["Writing documentation interactively"],"type":"node"},{"attributes":{},"tag":"p","children":["Now, weâ€™ll work on the documentation and preview it locally. The package files were generated in Juliaâ€™s package development directory:"],"type":"node"},{"attributes":{"cell":"","lang":"julia"},"tag":"codecell","children":[{"attributes":{},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"USING","children":[{"attributes":{},"tag":"USING","children":["using"],"type":"node"},{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["Pkg"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["dir"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["joinpath"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Pkg"],"type":"node"},{"attributes":{},"tag":"DOT","children":["."],"type":"node"},{"attributes":{},"tag":"QUOTE","children":[{"attributes":{},"tag":"IDENTIFIER","children":["devdir"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["PollenExample"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"/home/runner/.julia/dev/PollenExample"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Weâ€™ll activate the packageâ€™s documentation environment so that we can load the created package and Pollen itself, and then start the documentation development server:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"TOPLEVEL","children":[{"attributes":{},"tag":"USING","children":[{"attributes":{},"tag":"USING","children":["using"],"type":"node"},{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["Pkg"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"SEMICOLON","children":[";"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Pkg"],"type":"node"},{"attributes":{},"tag":"DOT","children":["."],"type":"node"},{"attributes":{},"tag":"QUOTE","children":[{"attributes":{},"tag":"IDENTIFIER","children":["activate"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["joinpath"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["dir"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["docs"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["include"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["joinpath"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["dir"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["docs/serve.jl"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Once you see messages that two servers are running on ports 3000 and 8000, you can click the first link (",{"attributes":{"href":"http://localhost:3000/dev/i","title":""},"tag":"a","children":["http://localhost:3000/dev/i"],"type":"node"},") to see a preview of the documentation. The first time, we run this, Pollen has to install the frontend, but subsequent runs will be much faster. The opened page should look like this:"],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{"src":"resources/1027234787264632106.png","alt":""},"tag":"img","children":[],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["The landing page shows our packageâ€™s ",{"attributes":{},"tag":"code","children":["README.md"],"type":"node"}," which, of course, is almost empty! Letâ€™s keep the server running and edit the file, for example by adding some text under the heading. Save the file, return to the documentation web page and ",{"attributes":{},"tag":"strong","children":["press ",{"attributes":{},"tag":"code","children":["R"],"type":"node"}],"type":"node"},". The",{"attributes":{},"tag":"br","children":[],"type":"node"},"page should update with the text you added to the README. For example:"],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{"src":"resources/12933089852986197223.png","alt":""},"tag":"img","children":[],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Great job! We just updated part of the documentation. While there are a lot more things we could change about the docs at this point, weâ€™ll leave them for another tutorial and get to the last part in this tutorial: publishing our packageâ€™s documentation as a website."],"type":"node"},{"attributes":{},"tag":"h2","children":["Publishing the documentation on GitHub Pages"],"type":"node"},{"attributes":{},"tag":"p","children":["If you used the template from the first part of this tutorial, the package directory will already be a git repository. First, we need to make sure to commit the changes we made above:"],"type":"node"},{"attributes":{"lang":"sh"},"tag":"codeblock","children":["> cd ~/.julia/dev/PollenExample\n> git add .\n> git commit -m \"Modified README\"\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Now, youâ€™ll need to create a GitHub repository at ",{"attributes":{},"tag":"code","children":["/$username/PollenExample.jl"],"type":"node"},". If you used your GitHub user in the template above, the local repositoryâ€™s remote should be set up correctly. Now weâ€™ll push our changes, and also two helper branches that Pollen uses to host a page:"],"type":"node"},{"attributes":{"lang":"sh"},"tag":"codeblock","children":["> git checkout pollen && git push --set-upstream origin main\n> git checkout gh-pages && git push --set-upstream origin main\n> git checkout main && git push --set-upstream origin main\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Thatâ€™s it! After about 10 minutes, youâ€™ll have a documentation page built at ",{"attributes":{},"tag":"code","children":["$username.github.io/PollenExample.jl/dev/i"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"p","children":["Now, every time you push changes to your packageâ€™s ",{"attributes":{},"tag":"code","children":["main"],"type":"node"}," branch, the documentation page will be updated!"],"type":"node"},{"attributes":{},"tag":"hr","children":[],"type":"node"},{"attributes":{},"tag":"p","children":["Now that weâ€™ve built a workflow for publishing documentation, itâ€™s time to find out how you to organize your documentation! (follow-up tutorial coming soon ðŸ‘€)"],"type":"node"}],"type":"node"}],"type":"node"}