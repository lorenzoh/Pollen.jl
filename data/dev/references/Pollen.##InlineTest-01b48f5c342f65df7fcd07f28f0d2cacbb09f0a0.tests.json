{"attributes":{"kind":"const","backlinks":[],"name":"tests","title":"tests","symbol_id":"Pollen.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0.tests","public":false,"module_id":"Pollen.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0"},"tag":"documentation","children":[{"attributes":{},"tag":"codecell","children":[{"attributes":{"lang":"julia"},"tag":"codeinput","children":[{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":["Pollen.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0.tests"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"(tests = Any[], news = Any[(ts = (&quot;XTree&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:201 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:201 =#</span> @testset &quot;Node constructors&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:202 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:202 =#</span> @test_nowarn Node(:tag)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:203 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:203 =#</span> @test tag(Node(:tag)) == :tag\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:204 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:204 =#</span> @test isempty(children(Node(:tag)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:205 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:205 =#</span> @test isempty(attributes(Node(:tag)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:206 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:206 =#</span> @test_nowarn Node(:tag, [])\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:207 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:207 =#</span> @test_nowarn Node(:tag, Leaf.(1:10))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:208 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:208 =#</span> @test Node(:tag, Leaf.(1:10)) == Node(:tag, 1:10...)\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:211 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:211 =#</span> @test_nowarn Leaf(1)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:212 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:212 =#</span> @test_nowarn Leaf(Leaf(1)) isa Leaf{Int}\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:214 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:214 =#</span> @testset &quot;with*&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:215 =#</span>\n            node = Node(:tag)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:216 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:216 =#</span> @test tag(withtag(node, :gat)) == :gat\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:217 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:217 =#</span> @test length(children(withchildren(node, Leaf.(1:10)))) == 10\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:218 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:218 =#</span> @test (attributes(withattributes(node, Dict(:x =&gt; &quot;hi&quot;))))[:x] == &quot;hi&quot;\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:200 =#</span>)), (ts = (&quot;fold&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:224 =#</span>\n    x = Node(:tag, Leaf.(1:10))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:225 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:225 =#</span> @test foldleaves(+, x, 0) == sum(1:10)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:226 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:226 =#</span> @test foldleaves(*, x, 1) == prod(1:10)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:227 =#</span>\n    x = Node(:tag, &quot;Hello&quot;, &quot;World&quot;)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:228 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:228 =#</span> @test foldleaves(*, x, &quot;&quot;) == &quot;HelloWorld&quot;\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:223 =#</span>)), (ts = (&quot;cata&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:233 =#</span>\n    x = Node(:tag, Leaf.(1:10))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:234 =#</span>\n    x_ = cata(x) do node\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:235 =#</span>\n            if node isa Leaf\n                <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:236 =#</span>\n                return Leaf(-(node[]))\n            else\n                <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:238 =#</span>\n                return node\n            end\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:241 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:241 =#</span> @test x_ == Node(:tag, Leaf.(-1:-1:-10))\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:232 =#</span>)), (ts = (&quot;catafold&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:245 =#</span>\n    x = Node(:tag, Leaf.(1:10))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:246 =#</span>\n    (x_, n) = catafold(x, 0) do node, state\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:247 =#</span>\n            if node isa Leaf\n                <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:248 =#</span>\n                return (Leaf(-(node[])), state + 1)\n            else\n                <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:250 =#</span>\n                return (node, state)\n            end\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:253 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:253 =#</span> @test x_ == Node(:tag, Leaf.(-1:-1:-10))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:254 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:254 =#</span> @test n == 10\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/xtree.jl:244 =#</span>)), (ts = (&quot;Selectors&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:154 =#</span>\n    leaf = Leaf(1)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:155 =#</span>\n    node = Node(:body, [leaf, Leaf(2)], Dict(:class =&gt; &quot;content&quot;))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:157 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:157 =#</span> @test matches(SelectTag(:body), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:158 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:158 =#</span> @test !(matches(SelectTag(:div), node))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:159 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:159 =#</span> @test matches(!(SelectTag(:div)), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:160 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:160 =#</span> @test matches(SelectTag(:div) | SelectTag(:body), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:161 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:161 =#</span> @test !(matches(SelectTag(:div) &amp; SelectTag(:body), node))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:162 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:162 =#</span> @test matches(SelectLeaf(), leaf)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:163 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:163 =#</span> @test matches(SelectNode(), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:164 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:164 =#</span> @test matches(SelectHasAttr(:class), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:165 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:165 =#</span> @test matches(SelectAttrEq(:class, &quot;content&quot;), node)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:167 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:167 =#</span> @testset &quot;select&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:168 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:168 =#</span> @test length(collect(select(node, SelectAll()))) == 3\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:169 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:169 =#</span> @test selectfirst(node, SelectLeaf()) === leaf\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/selectors.jl:153 =#</span>)), (ts = (&quot;catafirst&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:134 =#</span>\n    x = Node(:body, [Leaf(1), Leaf(2)])\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:136 =#</span>\n    x_ = cata(x, SelectLeaf()) do leaf\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:137 =#</span>\n            return Leaf(leaf[] + 1)\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:139 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:139 =#</span> @test ((children(x_))[1])[] == 2\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:140 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:140 =#</span> @test ((children(x_))[2])[] == 3\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:142 =#</span>\n    x__ = catafirst(x, SelectLeaf()) do leaf\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:143 =#</span>\n            return Leaf(leaf[] + 1)\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:145 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:145 =#</span> @test ((children(x__))[1])[] == 2\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:146 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:146 =#</span> @test ((children(x__))[2])[] == 2\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:133 =#</span>)), (ts = (&quot;replace&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:151 =#</span>\n    x = Node(:body, [Leaf(1), Leaf(2)])\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:152 =#</span>\n    node = Node(:body)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:153 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:153 =#</span> @test Pollen.replace(x, node, SelectNode()) == node\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:155 =#</span>\n    x_ = Pollen.replacefirst(x, node, SelectLeaf())\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:156 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:156 =#</span> @test tag(x_) == :body\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:157 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:157 =#</span> @test tag((children(x_))[1]) == :body\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:150 =#</span>)), (ts = (&quot;insert&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:162 =#</span>\n    x = Node(:body, [Leaf(1), Leaf(2)])\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:163 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:163 =#</span> @testset &quot;NthChild&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:164 =#</span>\n            x_ = insert(x, Leaf(0), NthChild(1, SelectNode()))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:165 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:165 =#</span> @test children(x_) == Leaf.(0:2)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:166 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:166 =#</span> @test insert(x, Leaf(0), NthChild(1, SelectNode())) == insertfirst(x, Leaf(0), NthChild(1, SelectNode()))\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:169 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:169 =#</span> @testset &quot;Before&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:170 =#</span>\n            x_ = insert(x, Leaf(0), Before(SelectLeaf()))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:171 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:171 =#</span> @test children(x_) == Leaf.(0:2)\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:174 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:174 =#</span> @testset &quot;Before&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:175 =#</span>\n            x_ = insert(x, Leaf(0), After(SelectLeaf()))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:176 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:176 =#</span> @test children(x_) == Leaf.([1, 0, 2])\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:161 =#</span>)), (ts = (&quot;gettext&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:182 =#</span>\n    x = Node(:body, Leaf.([&quot;Hello&quot;, &quot; &quot;, &quot;World&quot;]))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:183 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:183 =#</span> @test Pollen.gettext(x) == &quot;Hello World&quot;\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/xtree/catamorphisms.jl:181 =#</span>)), (ts = (&quot;Format [interface]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:70 =#</span>\n    struct TestFormat &lt;: Format\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:70 =#</span>\n    end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:71 =#</span>\n    Pollen.parse(io::IO, ::TestFormat) = begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:71 =#</span>\n            Node(:doc, Leaf.(split(read(io, String))))\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:72 =#</span>\n    Pollen.render!(io::IO, node::Node, ::TestFormat) = begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:72 =#</span>\n            write(io, join(getindex.(children(node)), &quot; &quot;))\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:74 =#</span>\n    format = TestFormat()\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:75 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:75 =#</span> @test render(parse(&quot;hello world&quot;, format), TestFormat()) == &quot;hello world&quot;\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/format.jl:69 =#</span>)), (ts = (&quot;MarkdownFormat&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:276 =#</span>\n    f = MarkdownFormat()\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:278 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:278 =#</span> @testset &quot;Inline&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:280 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:280 =#</span> @test parse(&quot;Hi&quot;, f) == Node(:md, Node(:p, &quot;Hi&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:282 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:282 =#</span> @test parse(&quot;_Hi_&quot;, f) == Node(:md, Node(:p, Node(:em, &quot;Hi&quot;)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:283 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:283 =#</span> @test parse(&quot;**Hi**&quot;, f) == Node(:md, Node(:p, Node(:strong, &quot;Hi&quot;)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:285 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:285 =#</span> @test parse(&quot;`code`&quot;, f) == Node(:md, Node(:p, Node(:code, &quot;code&quot;)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:287 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:287 =#</span> @testset &quot;Math (inline)&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:288 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:288 =#</span> @test parse(&quot;``x^2 = y``&quot;, f) == Node(:md, Node(:p, Node(:math, &quot;x^2 = y&quot;)))\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:289 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:289 =#</span> @test parse(&quot;``x^2 = y``&quot;, f) == parse(&quot;\\$x^2 = y\\$&quot;, f)\n                end\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:293 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:293 =#</span> @testset &quot;Blocks&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:295 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:295 =#</span> @test parse(&quot;- Hi&quot;, f) == Node(:md, Node(:ul, Node(:li, Node(:p, &quot;Hi&quot;))))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:296 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:296 =#</span> @test parse(&quot;1. Hi&quot;, f) == Node(:md, Node(:ol, Node(:li, Node(:p, &quot;Hi&quot;))))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:299 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:299 =#</span> @test Pollen.parse(&quot;Hi\\n\\n---\\n&quot;, f) == Node(:md, Node(:p, &quot;Hi&quot;), Node(:hr))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:302 =#</span>\n            cb = Pollen.parse(&quot;```julia\\nf(x) = 1\\n```\\n&quot;, f)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:307 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:307 =#</span> @test cb == Node(:md, Node(:codeblock, &quot;f(x) = 1\\n&quot;, lang = &quot;julia&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:310 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:310 =#</span> @test Pollen.parse(&quot;&gt; Hi&quot;, f) == Node(:md, Node(:blockquote, Node(:p, &quot;Hi&quot;)))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:312 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:312 =#</span> @testset &quot;FrontMatter&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:313 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:313 =#</span> @test Pollen.parse(&quot;+++\\nx = \\&quot;y\\&quot;\\n+++\\n\\nhi\\n&quot;, f) == Node(:md, Node(:p, &quot;hi&quot;); x = &quot;y&quot;)\n                end\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:320 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:320 =#</span> @testset &quot;HtmlBlock&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:321 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:321 =#</span> @test parse(&quot;&lt;div&gt;hi&lt;/div&gt;&quot;, f) == Node(:md, Node(:html, Node(:div, &quot;hi&quot;)))\n                end\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:324 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:324 =#</span> @testset &quot;Tables&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:325 =#</span>\n                    s = &quot;| x | y |\\n|:--|--:|\\n|hello|world|\\n&quot;\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:330 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:330 =#</span> @test Pollen.parse(s, f) == Node(:md, Node(:table, Node(:tr, Node(:th, &quot;x&quot;), Node(:th, &quot;y&quot;)), Node(:tr, Node(:td, &quot;hello&quot;), Node(:td, &quot;world&quot;)); align = [:left, :right]))\n                end\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:338 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:338 =#</span> @testset &quot;Admonitions&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:339 =#</span>\n                    s = &quot;!!! note \\&quot;Title\\&quot;\\n\\n    Hello world\\n&quot;\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:344 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:344 =#</span> @test Pollen.parse(s, f) == Node(:md, Node(:admonition, Node(:admonitiontitle, &quot;Title&quot;), Node(:admonitionbody, Node(:p, &quot;Hello world&quot;)), class = &quot;note&quot;))\n                end\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:352 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:352 =#</span> @testset &quot;Math (block)&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:353 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:353 =#</span> @test Pollen.parse(&quot;\\$\\$\\nf(x) = y\\n\\$\\$\\n&quot;, f) == Node(:md, Node(:mathblock, &quot;f(x) = y&quot;))\n                end\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:361 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:361 =#</span> @testset &quot;Attributes&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:362 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:362 =#</span> @testset &quot;Block-level&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:363 =#</span>\n                    node = Pollen.parse(&quot;{.hello #world attr=hi}\\nHello\\n&quot;, f)\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:367 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:367 =#</span> @test node == Node(:md, Node(:p, &quot;Hello&quot;; id = &quot;world&quot;, class = &quot;hello&quot;, attr = &quot;hi&quot;))\n                end\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:373 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:373 =#</span> @testset &quot;Inline&quot; begin\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:374 =#</span>\n                    node = Pollen.parse(&quot;Hello `code`{attr=hi} world&quot;, f)\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:375 =#</span>\n                    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:375 =#</span> @test node == Node(:md, Node(:p, &quot;Hello &quot;, Node(:code, &quot;code&quot;; attr = &quot;hi&quot;), &quot; world&quot;))\n                end\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/markdown.jl:275 =#</span>)), (ts = (&quot;JSONFormat&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:117 =#</span>\n    format = JSONFormat(firstmimeonly = false)\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:119 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:119 =#</span> @testset &quot;Leaves&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:120 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:120 =#</span> @test render(Leaf(&quot;Hello&quot;), format) == &quot;\\&quot;Hello\\&quot;&quot;\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:121 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:121 =#</span> @test render(Leaf(nothing), format) == &quot;null&quot;\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:124 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:124 =#</span> @testset &quot;PreRendered&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:125 =#</span>\n            leaf = Leaf(Base.HTML(&quot;&lt;p&gt;Hello&lt;/p&gt;&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:126 =#</span>\n            leaf_ = parse(render(leaf, format), format)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:127 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:127 =#</span> @test leaf_ isa Leaf{PreRendered}\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:128 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:128 =#</span> @test (leaf_[]).mimestrings[MIME(&quot;text/html&quot;)] == &quot;&lt;p&gt;Hello&lt;/p&gt;&quot;\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:131 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:131 =#</span> @testset &quot;Round-trip&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:132 =#</span>\n            tree = Node(:doc, Node(:p, &quot;hi&quot;, nothing; attr = &quot;val&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:133 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:133 =#</span> @test Pollen.parse(Pollen.render(tree, format), format) == tree\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/json.jl:116 =#</span>)), (ts = (&quot;JuliaSyntaxFormat&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/juliasyntax.jl:43 =#</span>\n    format = JuliaSyntaxFormat()\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/juliasyntax.jl:45 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/juliasyntax.jl:45 =#</span> @test parse(&quot;x+1&quot;, format) == Node(:julia, Node(:CALL, Node(:IDENTIFIER, &quot;x&quot;), Node(:PLUS, &quot;+&quot;), Node(:INTEGER, &quot;1&quot;)))\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/juliasyntax.jl:42 =#</span>)), (ts = (&quot;HTMLFormat [format]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:119 =#</span>\n    format = HTMLFormat()\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:120 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:120 =#</span> @test parse(&quot;&lt;b&gt;hi&lt;/b&gt;&quot;, format) == Node(:html, Node(:b, &quot;hi&quot;))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:121 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:121 =#</span> @test parse(&quot;&lt;b x=\\&quot;yo\\&quot;&gt;hi&lt;/b&gt;&quot;, format) == Node(:html, Node(:b, &quot;hi&quot;; x = &quot;yo&quot;))\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:122 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:122 =#</span> @testset &quot;Round-trip&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:123 =#</span>\n            s = &quot;&lt;html&gt;&lt;b x=yo &gt;hi&lt;/b&gt;&lt;/html&gt;&quot;\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:124 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:124 =#</span> @test render(parse(s, format), format) == s\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/formats/html.jl:118 =#</span>)), (ts = (&quot;Project&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/project.jl:107 =#</span>\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/project.jl:101 =#</span>)), (ts = (&quot;DocumentFolder [rewriter]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:130 =#</span>\n    mktempdir() do dir\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:131 =#</span>\n        open(joinpath(dir, &quot;test.md&quot;), &quot;w&quot;) do f\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:132 =#</span>\n            write(f, &quot;# Test&quot;)\n        end\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:134 =#</span>\n        rewriter = DocumentFolder(Path(dir))\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:135 =#</span>\n        sources = createsources!(rewriter)\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:136 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:136 =#</span> @test haskey(sources, &quot;test.md&quot;)\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:137 =#</span>\n        doc = sources[&quot;test.md&quot;]\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:138 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:138 =#</span> @test tag(doc) == :document\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:139 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:139 =#</span> @test haskey(attributes(doc), :path)\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:140 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:140 =#</span> @test (children(doc))[1] == Node(:md, Node(:h1, &quot;Test&quot;))\n    end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/documentfolder.jl:129 =#</span>)), (ts = (&quot;ExecuteCode [rewriter]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:240 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:240 =#</span> @testset &quot;Basic&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:241 =#</span>\n            rewriter = ExecuteCode(codeblocksel = SelectTag(:codeblock))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:242 =#</span>\n            doc = Node(:md, Node(:codeblock, &quot;1 + 1&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:243 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:243 =#</span> @test Pollen.rewritedoc(rewriter, &quot;path&quot;, doc) == Node(:md, Node(:codecell, Node(:codeinput, Node(:codeblock, &quot;1 + 1&quot;)), Node(:coderesult, Node(:codeblock, ANSI(2)))))\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:248 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:248 =#</span> @testset &quot;Output&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:249 =#</span>\n            rewriter = ExecuteCode(codeblocksel = SelectTag(:codeblock))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:250 =#</span>\n            doc = Node(:md, Node(:codeblock, &quot;print(\\&quot;hi\\&quot;)&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:251 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:251 =#</span> @test Pollen.rewritedoc(rewriter, &quot;path&quot;, doc) == Node(:md, Node(:codecell, Node(:codeinput, Node(:codeblock, &quot;print(\\&quot;hi\\&quot;)&quot;)), Node(:codeoutput, Node(:codeblock, ANSI(&quot;hi&quot;)))))\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:256 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:256 =#</span> @testset &quot;Cache&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:258 =#</span>\n            rewriter = ExecuteCode(codeblocksel = SelectTag(:codeblock))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:259 =#</span>\n            doc = Node(:md, Node(:codeblock, &quot;rand()&quot;))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:260 =#</span>\n            outdoc = Pollen.rewritedoc(rewriter, &quot;path&quot;, doc)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:261 =#</span>\n            val = only(children(selectfirst(outdoc, SelectTag(:coderesult))))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:262 =#</span>\n            outdoc2 = Pollen.rewritedoc(rewriter, &quot;path&quot;, doc)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:263 =#</span>\n            val2 = only(children(selectfirst(outdoc2, SelectTag(:coderesult))))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:264 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:264 =#</span> @test val == val2\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:267 =#</span>\n            reset!(rewriter)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:268 =#</span>\n            outdoc3 = Pollen.rewritedoc(rewriter, &quot;path&quot;, doc)\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:269 =#</span>\n            val3 = only(children(selectfirst(outdoc3, SelectTag(:coderesult))))\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:270 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:270 =#</span> @test val != val3\n        end\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:273 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:273 =#</span> @testset &quot;__parsecodeattributes&quot; begin\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:274 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:274 =#</span> @test __parsecodeattributes(Dict(:style =&gt; &quot;red&quot;)) == (Dict(:style =&gt; &quot;red&quot;), Dict(), Dict())\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:275 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:275 =#</span> @test __parsecodeattributes(Dict(:style =&gt; &quot;red&quot;, :output =&gt; &quot;false&quot;)) == (Dict(:style =&gt; &quot;red&quot;), Dict(:show =&gt; false), Dict())\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:277 =#</span>\n            <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:277 =#</span> @test __parsecodeattributes(Dict(:style =&gt; &quot;red&quot;, :output =&gt; &quot;false&quot;, :resultstyle =&gt; &quot;blue&quot;)) == (Dict(:style =&gt; &quot;red&quot;), Dict(:show =&gt; false), Dict(:style =&gt; &quot;blue&quot;))\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/coderunner.jl:239 =#</span>)), (ts = (&quot;ParseCode [rewriter]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/parsecode.jl:19 =#</span>\n    rewriter = ParseCode()\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/parsecode.jl:20 =#</span>\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/parsecode.jl:20 =#</span> @test rewritedoc(rewriter, &quot;&quot;, Node(:md, &quot;hi&quot;, Node(:codeblock, &quot;x&quot;, lang = &quot;julia&quot;))) == Node(:md, &quot;hi&quot;, Node(:codeblock, Node(:julia, Node(:IDENTIFIER, &quot;x&quot;)), lang = &quot;julia&quot;))\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/parsecode.jl:18 =#</span>)), (ts = (&quot;PackageDocumentation [rewriter]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/references.jl:338 =#</span>\n    rewriter = PackageDocumentation([Pollen])\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/references.jl:337 =#</span>)), (ts = (&quot;StaticResources [rewriter]&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:36 =#</span>\n    mktempdir() do dir\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:37 =#</span>\n        doc = Node(:md, Node(:img, src = &quot;bla.png&quot;), path = &quot;$(dir)/doc.md&quot;)\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:38 =#</span>\n        rewriter = StaticResources()\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:39 =#</span>\n        outdoc = rewritedoc(rewriter, &quot;&quot;, doc)\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:40 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:40 =#</span> @test startswith((attributes(selectfirst(outdoc, SelectTag(:img))))[:src], &quot;resources&quot;)\n    end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/rewriters/staticresources.jl:35 =#</span>)), (ts = (&quot;validatedocs&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/docs.jl:61 =#</span>\n    mktempdir() do dir\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/docs.jl:62 =#</span>\n        <span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/docs.jl:62 =#</span> @test_throws ArgumentError validatedocs(dir)\n    end\nend), source = :(<span class=\"sgr90\">#= /home/runner/work/Pollen.jl/Pollen.jl/src/docs.jl:60 =#</span>))], map = Dict{Union{Expr, String}, Int64}())"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}